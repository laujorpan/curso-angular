import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { User } from '../model/user.model';

@Injectable({
  providedIn: 'root'
})
export class UserService {
  users:User[]
  activeUser:User;
  constructor(private http: HttpClient) { }

  getUsers(): User[] {
    if(!this.users){
      this.users=[];
      this.users.push({
        name: 'general',
        image:'data:image/png;base64,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',
        key: 'general'
      })
      this.http.get('https://randomuser.me/api/?results=5&seed=laura')
      .subscribe(data=>{
        data['results'].forEach(result=>{
          let user = {
            name: result.name.first,
            image: result.picture.medium,
            key: result.login.uuid
          }
          this.users.push(user);
        });
      });
    }
    return this.users;
  }
  saveActiveUser(user:User) {
    this.activeUser = user;
  }
}
